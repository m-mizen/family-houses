(this["webpackJsonpstore-finder"]=this["webpackJsonpstore-finder"]||[]).push([[0],{22:function(n,e,t){},28:function(n,e,t){"use strict";t.r(e);var r=t(1),o=t(0),i=t.n(o),c=t(10),a=t.n(c),u=(t(22),t(2)),l=t(3);function s(){var n=Object(u.a)(["\n    gap: 1em 0;\n    width: 100%;\n    display: block;\n    @media screen and (min-width: 900px) {\n        display:grid;\n        grid-template-rows: auto 1fr;\n        grid-template-columns: 3fr 5fr;\n        height: 100vh;\n    }\n"]);return s=function(){return n},n}var d=l.a.div(s()),f=t(4),b=t(16),j=t(15),v=Object(o.createContext)(null),O=function(n){var e=n.children,t=Object(o.useState)(!1),i=Object(f.a)(t,2),c=i[0],a=i[1];return Object(o.useEffect)((function(){if(!c){new j.a(Object(b.a)({apiKey:"AIzaSyCyocMMzml9i_X277lau2pfS5VhTlYpEoA",version:"beta"},{mapIds:["4705e028c2e7eae3"]})).load().then((function(){a(!0)}))}}),[c,a]),Object(r.jsx)(v.Provider,{value:{loaded:c},children:e})},p=t(8),h=t.n(p),x=t(14),g=Object(o.createContext)(void 0),m=function(n){var e=n.children,t=Object(o.useState)(),i=Object(f.a)(t,2),c=i[0],a=i[1];return Object(o.useEffect)((function(){function n(){return(n=Object(x.a)(h.a.mark((function n(){var e,t;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("./api_mock/locations.json");case 2:return e=n.sent,n.next=5,e.json();case 5:t=n.sent,a(t);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}try{!function(){n.apply(this,arguments)}()}catch(e){console.error(e)}}),[a]),Object(r.jsx)(g.Provider,{value:c,children:e})},y=Object(o.createContext)(void 0),C=function(n){var e=n.children,t=(Object(o.useContext)(g)||{locations:[]}).locations,i=Object(o.useState)(t),c=Object(f.a)(i,2),a=c[0],u=c[1];return Object(o.useEffect)((function(){u(t.filter((function(n){return"gbr"===n.country})))}),[t,u]),Object(r.jsx)(y.Provider,{value:{filteredLocations:a,setFilteredLocations:u},children:e})},w=Object(o.createContext)(void 0),k=function(n){var e=n.children,t=Object(o.useState)(void 0),i=Object(f.a)(t,2),c=i[0],a=i[1];return Object(r.jsx)(w.Provider,{value:{activeLocation:c,setActiveLocation:a},children:e})},L=function(n){var e=n.children;return Object(r.jsx)(O,{children:Object(r.jsx)(m,{children:Object(r.jsx)(k,{children:Object(r.jsx)(C,{children:e})})})})};function S(){var n=Object(u.a)(["\n    ","\n    border-bottom: 1px solid #d59563;\n\n    option {\n        color: inherit;\n        background: #444;\n    }\n"]);return S=function(){return n},n}function E(){var n=Object(u.a)(["\n    ","\n    border-bottom: 1px solid #d59563;\n"]);return E=function(){return n},n}function A(){var n=Object(u.a)(["\n    display: block;\n    font-size: 75%;\n    flex: 0 0 80px;\n    text-align: right;\n"]);return A=function(){return n},n}function z(){var n=Object(u.a)(["\n    display: flex;\n    align-items: baseline;\n    flex: 1 1 auto;\n    gap: .5em;\n    margin: .5em 0;\n    input, select {\n        flex: 1 1 auto;\n        width: 100%;\n    }\n"]);return z=function(){return n},n}function P(){var n=Object(u.a)(["\n    flex: 0 1 auto;\n    background: none;\n    color: #d59563;\n    font-size: 60%;\n    border: 2px solid #d59563;\n    border-radius: 6px;\n    padding: 0.25em .5em;\n    cursor: pointer;\n    &:hover, &:focus {\n        border-color: #d59563;\n        background-color: #d59563;\n        color: #333;\n    }\n\n    ","\n    \n    ","\n"]);return P=function(){return n},n}function F(){var n=Object(u.a)(["\n    display: flex;\n    flex-direction: row-reverse;\n    justify-content: flex-start;\n    gap: .5em;\n    margin: .75em 0 0;\n"]);return F=function(){return n},n}function I(){var n=Object(u.a)(["\n    display: block;\n    width: 80%;\n    margin: auto;\n"]);return I=function(){return n},n}var M=l.a.form(I()),T=l.a.div(F()),Z=l.a.button(P(),(function(n){return"reset"===(null===n||void 0===n?void 0:n.type)&&"\n        color: #ff7043;\n        border-color: #ff7043;\n        &:hover, &:focus {\n            border-color: #ff7043;\n            background-color: #ff7043;\n            color: #333;\n        }\n    "}),(function(n){return"submit"===(null===n||void 0===n?void 0:n.type)&&"\n        border-color: #d59563;\n        background-color: #d59563;\n        color: #333;\n        &:hover, &:focus {\n            border-color: #fff;\n            background-color: #fff;\n        }\n    "})),B=l.a.label(z()),D=l.a.span(A()),N="\n    line-height: inherit;\n    color: #fff;\n    background: transparent;\n    display: block;\n    border: none;\n    cursor: pointer;\n",J=l.a.input(E(),N),R=l.a.select(S(),N),_=function(){var n=Object(o.useState)(""),e=Object(f.a)(n,2),t=e[0],i=e[1],c=Object(o.useState)(""),a=Object(f.a)(c,2),u=a[0],l=a[1],s=Object(o.useState)("gbr"),d=Object(f.a)(s,2),b=d[0],j=d[1],v=Object(o.useContext)(g),O=Object(o.useContext)(y),p=Object(o.useContext)(w),h=Object(o.useContext)(g)||{},x=h.tags,m=h.countries;return Object(r.jsxs)(M,{onSubmit:function(n){var e;n.preventDefault(),u||t||null===O||void 0===O||O.setFilteredLocations((null===v||void 0===v?void 0:v.locations)||[]);null===p||void 0===p||p.setActiveLocation(void 0),null===O||void 0===O||O.setFilteredLocations((null===v||void 0===v||null===(e=v.locations)||void 0===e?void 0:e.filter((function(n){var e;return!(u&&!(null===(e=n.tags)||void 0===e?void 0:e.includes(u)))&&((!b||n.country===b)&&(!t||-1!==n.name.indexOf(t)||-1!==n.address.indexOf(t)||-1!==n.description.indexOf(t)))})))||[])},children:[Object(r.jsxs)(B,{children:[Object(r.jsx)(D,{className:"label-text",children:"Search:"}),Object(r.jsx)(J,{type:"text",name:"search-term",placeholder:"Term to search",value:t,onChange:function(n){i(n.target.value)}})]}),Object(r.jsxs)(B,{children:[Object(r.jsx)(D,{className:"label-text",children:"Category:"}),Object(r.jsxs)(R,{name:"tag",onChange:function(n){l(n.target.value)},value:u,disabled:!x||x.length<1,children:[Object(r.jsx)("option",{children:"Please select:"}),null===x||void 0===x?void 0:x.map((function(n,e){return Object(r.jsx)("option",{value:n.id,children:n.name},e)}))]})]}),Object(r.jsxs)(B,{children:[Object(r.jsx)(D,{className:"label-text",children:"Country:"}),Object(r.jsx)(R,{name:"tag",onChange:function(n){j(n.target.value)},value:b,children:null===m||void 0===m?void 0:m.map((function(n,e){return Object(r.jsx)("option",{value:n.id,children:n.name},e)}))})]}),Object(r.jsxs)(T,{children:[Object(r.jsx)(Z,{type:"submit",children:"Submit"}),Object(r.jsx)(Z,{type:"reset",onClick:function(n){i(""),l(""),j("gbr"),null===O||void 0===O||O.setFilteredLocations((null===v||void 0===v?void 0:v.locations.filter((function(n){return"gbr"===n.country})))||[])},children:"Reset"})]})]})};function K(){var n=Object(u.a)(["\n    font-size: 50%;\n    border-radius: 2px;\n    border: 1px solid currentColor;\n    padding: 0.2em 0.5em;\n    font-weight: 400;\n"]);return K=function(){return n},n}function V(){var n=Object(u.a)(["\n    display: flex;\n    gap: 0.25em;\n"]);return V=function(){return n},n}function X(){var n=Object(u.a)(["\n    font-size: calc(12 / 18 * 100%);\n    text-transform: uppercase;\n    font-weight: 400;\n    margin: 0 0 0.25em;\n    text-decoration: underline;\n"]);return X=function(){return n},n}function Y(){var n=Object(u.a)(["\n    display: block;\n    flex: 1 1 50%;    \n    color: #fff;\n"]);return Y=function(){return n},n}function q(){var n=Object(u.a)(["\n    white-space: pre;\n"]);return q=function(){return n},n}function G(){var n=Object(u.a)(["\n    cursor: default;\n    display: flex;\n    align-items: flex-start;\n    font-size: 75%;\n    gap: .5em;\n    margin-top: 1em;\n"]);return G=function(){return n},n}function H(){var n=Object(u.a)(["\n    display: block;\n    width: 100%;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    font-size: 100%;\n    margin: 0 ;\n"]);return H=function(){return n},n}function Q(){var n=Object(u.a)(["\n    display: block;\n    height: 1.5rem;\n    width: 1.5rem;\n    background: none;\n    border: none;\n    position: relative;\n    color: inherit;\n    cursor: pointer;\n    &:hover, &:focus{\n        color: #f2f2f2;\n    }\n    &::before{\n        content: '';\n        display: block;\n        width: 40%;\n        height: 40%;\n        position: absolute;\n        left: 50%;\n        top: 50%;\n        border-right: 2px solid currentColor;\n        border-bottom: 2px solid currentColor;\n        transition: transform 0.2s;\n        transform:  ",";\n    }\n"]);return Q=function(){return n},n}function U(){var n=Object(u.a)(["\n    display: flex;\n"]);return U=function(){return n},n}function W(){var n=Object(u.a)(["\n    cursor: pointer;\n"]);return W=function(){return n},n}var $=l.a.article(W()),nn=l.a.div(U()),en=l.a.button(Q(),(function(n){return n.active?"translate(-50%, -50%) rotate(45deg)":"translate(-50%, -50%) rotate(-45deg)"})),tn=l.a.h1(H()),rn=l.a.div(G()),on=l.a.address(q()),cn=l.a.div(Y()),an=l.a.h2(X()),un=l.a.div(V()),ln=l.a.span(K()),sn=function(n){var e=n.location,t=n.setActive,i=n.isActive,c=Object(o.useContext)(g),a=e.name,u=e.description,l=e.address,s=e.tags,d=s&&(null===c||void 0===c?void 0:c.tags)&&(null===s||void 0===s?void 0:s.map((function(n){var e;return null===(e=c.tags.find((function(e){return e.id===n})))||void 0===e?void 0:e.name})));return Object(r.jsxs)($,{onClick:t,children:[Object(r.jsxs)(nn,{children:[Object(r.jsx)(tn,{children:a}),Object(r.jsx)(en,{active:i})]}),d&&d.length>0&&Object(r.jsx)(un,{children:d.map((function(n,e){return Object(r.jsx)(ln,{children:n},e)}))}),i&&Object(r.jsxs)(rn,{onClick:function(n){return n.stopPropagation()},children:[Object(r.jsxs)(cn,{children:[Object(r.jsx)(an,{children:"Description"}),u]}),l&&"redacted"!==l&&Object(r.jsxs)(cn,{children:[Object(r.jsx)(an,{children:"Address"}),Object(r.jsx)(on,{children:l})]})]})]})};function dn(){var n=Object(u.a)(["\n    display: block;\n    margin: 1em 0;\n    border-left: .2em solid currentColor;\n    padding: 0 .5em 0 .3em;\n"]);return dn=function(){return n},n}function fn(){var n=Object(u.a)(["\n    list-style: none;\n    padding: 0;\n"]);return fn=function(){return n},n}function bn(){var n=Object(u.a)(["\n    overflow-y: auto;\n    padding: 0;\n    margin: 0;\n    border-top: .2em solid #38414e;\n"]);return bn=function(){return n},n}var jn=l.a.ul(bn()),vn=l.a.ul(fn()),On=l.a.li(dn()),pn=function(){var n=(Object(o.useContext)(y)||{}).filteredLocations,e=Object(o.useContext)(w)||{},t=e.activeLocation,i=e.setActiveLocation;return Object(r.jsx)(jn,{children:Object(r.jsx)(vn,{children:null===n||void 0===n?void 0:n.map((function(n){return Object(r.jsx)(On,{children:Object(r.jsx)(sn,{isActive:n.id===t,setActive:function(){var e;(e=n.id)&&i&&i(e===t?void 0:e)},location:n})},n.id)}))})})};function hn(){var n=Object(u.a)(["\n    display: block;\n    height calc(100vw * (2 / 3));\n    margin: 1em 0 0;\n    @media screen and (min-width: 900px) {\n        margin: 0;\n        height: 100%;\n        grid-row: 1 / 3;\n        grid-column: 2;\n    }\n"]);return hn=function(){return n},n}var xn=l.a.div(hn()),gn=function(){var n=Object(o.useContext)(v),e=(Object(o.useContext)(y)||{}).filteredLocations,t=Object(o.useContext)(w)||{},i=t.activeLocation,c=t.setActiveLocation,a=Object(o.useState)(void 0),u=Object(f.a)(a,2),l=u[0],s=u[1],d=Object(o.useState)(void 0),b=Object(f.a)(d,2),j=b[0],O=b[1],p=Object(o.useRef)(null);return Object(o.useEffect)((function(){p.current&&(null===n||void 0===n?void 0:n.loaded)&&s(new google.maps.Map(p.current,{mapId:"4705e028c2e7eae3",center:{lat:-33,lng:151},zoom:8,zoomControl:!1}))}),[n,p,s]),Object(o.useEffect)((function(){if(l&&(!j||!e||j.length!==e.length)){null===j||void 0===j||j.forEach((function(n){n.setMap(null)}));var n=null===e||void 0===e?void 0:e.map((function(n){var e=n.lat,t=n.lng;return new google.maps.Marker({position:{lat:e,lng:t},map:l})}));O(n)}}),[l,e,O,j]),Object(o.useEffect)((function(){if(j&&l&&c&&e){var n=new google.maps.LatLngBounds;return(null===j||void 0===j?void 0:j.length)>0?(j.forEach((function(e){var t=e.getPosition();t&&n.extend(t)})),l.fitBounds(n),l.setZoom(Math.min(l.getZoom()-1,15))):(l.setZoom(8),l.panTo({lat:51.51403184993422,lng:-.1270110922311092})),j.forEach((function(n,t){n.addListener("click",(function(n){e&&console.log(e[t]),c&&c(e[t].id)}))})),function(){null===j||void 0===j||j.forEach((function(n){google.maps.event.clearInstanceListeners(n)}))}}}),[l,j,e,c]),Object(o.useEffect)((function(){if(e&&l&&"undefined"!==typeof i&&j){var n=e.findIndex((function(n){return n.id===i}));if("undefined"!==typeof n){var t=j[n].getPosition();t&&(l.panTo(t),l.getZoom()<12&&l.setZoom(12))}}}),[l,i,j,e]),Object(r.jsx)(xn,{ref:p})},mn=function(){return Object(r.jsx)("div",{id:"store-finder-app",children:Object(r.jsx)(L,{children:Object(r.jsxs)(d,{children:[Object(r.jsx)(_,{}),Object(r.jsx)(gn,{}),Object(r.jsx)(pn,{})]})})})},yn=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,29)).then((function(e){var t=e.getCLS,r=e.getFID,o=e.getFCP,i=e.getLCP,c=e.getTTFB;t(n),r(n),o(n),i(n),c(n)}))};a.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(mn,{})}),document.getElementById("root")),yn()}},[[28,1,2]]]);
//# sourceMappingURL=main.56b089d0.chunk.js.map